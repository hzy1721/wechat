<script setup lang="ts">
import ChatListItem from "./ChatListItem.vue";
import { useHomeStore } from "@/stores/home";
import { storeToRefs } from "pinia";

const chatSessions = [
  {
    name: 'å¥½å‹1',
    avatar: '/src/assets/avatar.jpg',
    time: new Date(2022, 5, 10, 18, 18),
    msg: 'ä½ å¥½å‘€ğŸ‘‹',
    mute: false
  },
  {
    name: 'ç¾¤èŠ1',
    avatar: '/src/assets/avatar.jpg',
    time: new Date(2022, 5, 10, 18, 4),
    msg: 'è·¯äººä¹™ï¼šæ¬¢è¿æ–°äººğŸ‘',
    mute: true
  },
  {
    name: 'å¥½å‹2',
    avatar: '/src/assets/avatar.jpg',
    time: new Date(2022, 5, 10, 17, 55),
    msg: 'æ„Ÿè°¢ğŸ™',
    mute: false
  },
];

const homeStore = useHomeStore();
const { activeChat } = storeToRefs(homeStore);
if (!activeChat.value) {
  activeChat.value = chatSessions[0].name;
}
</script>

<template>
  <div class="chat-list">
    <ChatListItem v-for="chat in chatSessions" :chat="chat" />
  </div>
</template>

<style lang="scss">
.chat-list {
  flex: 1;
  overflow-y: auto;
}
</style>